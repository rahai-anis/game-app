import{a as o}from"./axios-Bo0ATomq.js";import{m as s,j as m}from"./index-mqt7QRMY.js";o.defaults.baseURL="http://192.168.2.28/api/v0/";function q(){const i=s([]),r=s([]),n=s({}),l=m(),u=s([]);var p=s([]);const g={token:localStorage.getItem("token"),id:localStorage.getItem("id"),user:localStorage.getItem("user")},d=encodeURIComponent(btoa(JSON.stringify(g))),c=async(t=1,a=null)=>{try{const e=await o.get("marqueform/"+d+"?page="+t+"&search="+a);u.value={current_page:e.data.current_page,last_page:e.data.last_page,total:e.data.total},i.value=e.data.data}catch(e){e.response.status===400&&l.push({name:"login"})}};return{skill:r,skills:i,getSkills:c,storeskill:async t=>{try{await o.post("skills",t),l.push({name:"skillsIndex"})}catch(a){a.response.status===422&&(n.value=a.response.data.errors)}},getSkill:async t=>{p=await o.get("marqueform?encryptedData="+d+"&id="+t),r.value=p.data},errors:n,updateskill:async t=>{try{await o.put("skills/"+t,r.value),l.push({name:"skillsIndex"})}catch(a){console.log(a),a.response.status===422&&(n.value=a.response.data.errors)}},pagination:u,changePage:t=>{c(t)},searchs:t=>{const a={id:t.id,marque:t.marque,date:t.date},e=encodeURIComponent(btoa(JSON.stringify(a)));c(1,e)}}}export{q as u};
