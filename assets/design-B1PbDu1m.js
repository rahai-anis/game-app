import{a as n}from"./axios-Bo0ATomq.js";import{m as s,j as h}from"./index-DKWDv90s.js";n.defaults.baseURL="http://192.168.2.28/api/v0/";function U(){const d=s([]),p=s([]),g=s([]),c=s([]),u=s([]),m=h(),i=s([]),f={token:localStorage.getItem("token"),id:localStorage.getItem("id"),user:localStorage.getItem("user")},l=encodeURIComponent(btoa(JSON.stringify(f))),r=async(t=1,a=null)=>{try{const e=await n.get("getalldesign/"+l+"?page="+t+"&search="+a);i.value={current_page:e.data.current_page,last_page:e.data.last_page,total:e.data.total},d.value=e.data.data}catch(e){e.response.status===400&&m.push({name:"login"})}};return{getdms:r,dms:d,pagination:i,changePage:t=>{r(t)},searchs:t=>{const a={id:t.id,date:t.date},e=encodeURIComponent(btoa(JSON.stringify(a)));r(1,e)},getdm:async t=>{const a=await n.get("getonedesign/"+l+"?id="+t);p.value=a.data[0],u.value=a.data[0].deposants},dm:p,deposants:u,updatedeposant:async(t,a)=>{c.value=null;const e=encodeURIComponent(btoa(JSON.stringify(a)));try{const o=await n.put("updatedeposants/"+t+"/"+e);c.value=o.status}catch(o){o.response.status===400&&(g.value=o.response.data.message)}},errors:g,success:c}}export{U as D};
